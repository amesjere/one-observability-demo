"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ListAdoptionsService = void 0;
const ecs = require("aws-cdk-lib/aws-ecs");
const aws_ecr_assets_1 = require("aws-cdk-lib/aws-ecr-assets");
const ecs_service_1 = require("./ecs-service");
class ListAdoptionsService extends ecs_service_1.EcsService {
    constructor(scope, id, props) {
        super(scope, id, props);
        props.database.secret?.grantRead(this.taskDefinition.taskRole);
    }
    containerImageFromRepository(repositoryURI) {
        return ecs.ContainerImage.fromRegistry(`${repositoryURI}/pet-listadoptions:latest`);
    }
    createContainerImage() {
        return ecs.ContainerImage.fromDockerImageAsset(new aws_ecr_assets_1.DockerImageAsset(this, "petlistadoptions-go", { directory: "./resources/microservices/petlistadoptions-go" }));
    }
}
exports.ListAdoptionsService = ListAdoptionsService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC1hZG9wdGlvbnMtc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxpc3QtYWRvcHRpb25zLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQTJDO0FBRTNDLCtEQUE4RDtBQUM5RCwrQ0FBMkQ7QUFRM0QsTUFBYSxvQkFBcUIsU0FBUSx3QkFBVTtJQUVsRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQStCO1FBQ3ZFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxhQUFxQjtRQUNoRCxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLEdBQUcsYUFBYSwyQkFBMkIsQ0FBQyxDQUFBO0lBQ3JGLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLElBQUksaUNBQWdCLENBQUMsSUFBSSxFQUFDLHFCQUFxQixFQUM5RixFQUFFLFNBQVMsRUFBRSwrQ0FBK0MsRUFBQyxDQUM1RCxDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0Y7QUFqQkQsb0RBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZWNzIGZyb20gJ2F3cy1jZGstbGliL2F3cy1lY3MnO1xyXG5pbXBvcnQgKiBhcyByZHMgZnJvbSAnYXdzLWNkay1saWIvYXdzLXJkcyc7XHJcbmltcG9ydCB7IERvY2tlckltYWdlQXNzZXQgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZWNyLWFzc2V0cyc7XHJcbmltcG9ydCB7IEVjc1NlcnZpY2UsIEVjc1NlcnZpY2VQcm9wcyB9IGZyb20gJy4vZWNzLXNlcnZpY2UnXHJcbmltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ2NvbnN0cnVjdHMnXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaXN0QWRvcHRpb25TZXJ2aWNlUHJvcHMgZXh0ZW5kcyBFY3NTZXJ2aWNlUHJvcHMge1xyXG4gIGRhdGFiYXNlOiByZHMuRGF0YWJhc2VDbHVzdGVyXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0QWRvcHRpb25zU2VydmljZSBleHRlbmRzIEVjc1NlcnZpY2Uge1xyXG5cclxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogTGlzdEFkb3B0aW9uU2VydmljZVByb3BzICApIHtcclxuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xyXG5cclxuICAgIHByb3BzLmRhdGFiYXNlLnNlY3JldD8uZ3JhbnRSZWFkKHRoaXMudGFza0RlZmluaXRpb24udGFza1JvbGUpO1xyXG4gIH1cclxuXHJcbiAgY29udGFpbmVySW1hZ2VGcm9tUmVwb3NpdG9yeShyZXBvc2l0b3J5VVJJOiBzdHJpbmcpIDogZWNzLkNvbnRhaW5lckltYWdlIHtcclxuICAgIHJldHVybiBlY3MuQ29udGFpbmVySW1hZ2UuZnJvbVJlZ2lzdHJ5KGAke3JlcG9zaXRvcnlVUkl9L3BldC1saXN0YWRvcHRpb25zOmxhdGVzdGApXHJcbiAgfVxyXG5cclxuICBjcmVhdGVDb250YWluZXJJbWFnZSgpIDogZWNzLkNvbnRhaW5lckltYWdlIHtcclxuICAgIHJldHVybiBlY3MuQ29udGFpbmVySW1hZ2UuZnJvbURvY2tlckltYWdlQXNzZXQobmV3IERvY2tlckltYWdlQXNzZXQodGhpcyxcInBldGxpc3RhZG9wdGlvbnMtZ29cIiwgXHJcbiAgICB7IGRpcmVjdG9yeTogXCIuL3Jlc291cmNlcy9taWNyb3NlcnZpY2VzL3BldGxpc3RhZG9wdGlvbnMtZ29cIn1cclxuICAgICkpXHJcbiAgfSBcclxufVxyXG4iXX0=