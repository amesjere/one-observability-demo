"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TrafficGeneratorService = void 0;
const ecs = require("aws-cdk-lib/aws-ecs");
const aws_ecr_assets_1 = require("aws-cdk-lib/aws-ecr-assets");
const ecs_service_1 = require("./ecs-service");
class TrafficGeneratorService extends ecs_service_1.EcsService {
    constructor(scope, id, props) {
        super(scope, id, props);
    }
    containerImageFromRepository(repositoryURI) {
        return ecs.ContainerImage.fromRegistry(`${repositoryURI}/pet-trafficgenerator:latest`);
    }
    createContainerImage() {
        return ecs.ContainerImage.fromDockerImageAsset(new aws_ecr_assets_1.DockerImageAsset(this, "traffic-generator", {
            directory: "./resources/microservices/trafficgenerator/trafficgenerator"
        }));
    }
}
exports.TrafficGeneratorService = TrafficGeneratorService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhZmZpYy1nZW5lcmF0b3Itc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRyYWZmaWMtZ2VuZXJhdG9yLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQTJDO0FBQzNDLCtEQUE4RDtBQUM5RCwrQ0FBMkQ7QUFHM0QsTUFBYSx1QkFBd0IsU0FBUSx3QkFBVTtJQUVyRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXNCO1FBQzlELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxhQUFxQjtRQUNoRCxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLEdBQUcsYUFBYSw4QkFBOEIsQ0FBQyxDQUFBO0lBQ3hGLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLElBQUksaUNBQWdCLENBQUMsSUFBSSxFQUFFLG1CQUFtQixFQUFFO1lBQzdGLFNBQVMsRUFBRSw2REFBNkQ7U0FDekUsQ0FBQyxDQUFDLENBQUE7SUFDTCxDQUFDO0NBQ0Y7QUFmRCwwREFlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGVjcyBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZWNzJztcclxuaW1wb3J0IHsgRG9ja2VySW1hZ2VBc3NldCB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1lY3ItYXNzZXRzJztcclxuaW1wb3J0IHsgRWNzU2VydmljZSwgRWNzU2VydmljZVByb3BzIH0gZnJvbSAnLi9lY3Mtc2VydmljZSdcclxuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cydcclxuXHJcbmV4cG9ydCBjbGFzcyBUcmFmZmljR2VuZXJhdG9yU2VydmljZSBleHRlbmRzIEVjc1NlcnZpY2Uge1xyXG5cclxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogRWNzU2VydmljZVByb3BzICApIHtcclxuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xyXG4gIH1cclxuXHJcbiAgY29udGFpbmVySW1hZ2VGcm9tUmVwb3NpdG9yeShyZXBvc2l0b3J5VVJJOiBzdHJpbmcpIDogZWNzLkNvbnRhaW5lckltYWdlIHtcclxuICAgIHJldHVybiBlY3MuQ29udGFpbmVySW1hZ2UuZnJvbVJlZ2lzdHJ5KGAke3JlcG9zaXRvcnlVUkl9L3BldC10cmFmZmljZ2VuZXJhdG9yOmxhdGVzdGApXHJcbiAgfVxyXG5cclxuICBjcmVhdGVDb250YWluZXJJbWFnZSgpIDogZWNzLkNvbnRhaW5lckltYWdlIHtcclxuICAgIHJldHVybiBlY3MuQ29udGFpbmVySW1hZ2UuZnJvbURvY2tlckltYWdlQXNzZXQobmV3IERvY2tlckltYWdlQXNzZXQodGhpcywgXCJ0cmFmZmljLWdlbmVyYXRvclwiLCB7XHJcbiAgICAgIGRpcmVjdG9yeTogXCIuL3Jlc291cmNlcy9taWNyb3NlcnZpY2VzL3RyYWZmaWNnZW5lcmF0b3IvdHJhZmZpY2dlbmVyYXRvclwiXHJcbiAgICB9KSlcclxuICB9XHJcbn1cclxuIl19